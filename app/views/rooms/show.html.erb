<div class="max-w-3xl h-full mx-auto bg-gray-100 shadow-lg overflow-hidden">
  <div class="py-4 flex flex-col justify-between h-full">
    <div class="flex items-center mb-4 px-2">
      <%= link_to "<", rooms_path, class:"text-blue-500 text-bold text-xl" %>
      <span class="ml-2 px-2 font-semibold"><%= @room.name %></span>
    </div>
    <%= turbo_stream_from @room %>
    <div id="messages" class="space-y-4 h-4/5 overflow-y-auto px-4" data-controller="scroll">
      <%= render @messages %>
    </div>
  <%= render 'rooms/partials/message_form' %>
  </div>
</div>

<style>
  .msg-<%= current_user.id %> {
    justify-content: flex-end;
  }

  .msg-<%= current_user.id %> > div {
    background-color: rgb(59 130 246 / var(--tw-bg-opacity));
  }

  .msg-<%= current_user.id %> > div > p {
    color: white;
  }
</style>

